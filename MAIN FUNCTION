#include<stdio.h>
#include<string.h>
#include<stdio.h>


struct student {//only one tyoe oif 
    char name[50];
    int ID;
    char major[50]; 

    char sub1[50];
    float sub1grd;

    char sub2[50];
    float sub2grd;

} student[1] = {{"Roderick",1820252057,"Engineering","Calculus",95.0,"Linear Algebra",85.0}}; 

int func3();
int main() {
    int oper;

    printf("\t\t\t\t********************************************************\n");
    printf("\t\t\t\t*    Welcome to the Student Grade Management System    *\n");
    printf("\t\t\t\t*    Please enter your options:                        *\n");
    printf("\t\t\t\t*    1. Input Basic Study Student Information          *\n");
    printf("\t\t\t\t*    2. Result Query                                   *\n");
    printf("\t\t\t\t*    3. Result Statistics                              *\n");
    printf("\t\t\t\t*    4. Failing Statistics                             *\n");
    printf("\t\t\t\t*    5. Browsing of Results                            *\n");
    printf("\t\t\t\t*    0. Exit                                           *\n");
    printf("\t\t\t\t********************************************************\n");
    printf("\t\t\t\tPlease input a number (1-5): \n\n");

    scanf("%d",&oper);
    switch(oper){
        case 1:
            printf("haro");
            break;
        case 2:
            printf("This is a test2");
            break;
        case 3:
            func3();
            main();
        case 4:
            printf("This is a test4");
            break;
        case 5:
            printf("This is a test5");
            break;
        case 6:
            printf("This is a test66");
            break;

    }

    return 0;
}

int func3() {
    int i, n, Total, stdtotal = sizeof(student) / sizeof(student[0]);
    int pick;
    char input[30];

    char majorlist[10][30];
    int majorCount = 0;
    printf("\n********************************************************\n\n");

    printf("Current existing Majors:\n");

    for (i = 0; i < stdtotal; i++) {
        int exists = 0;
        for (int j = 0; j < majorCount; j++) {
            if (strcmp(majorlist[j], student[i].major) == 0) {
                exists = 1;
                break;
            }
        }
        if (!exists) {
            strcpy(majorlist[majorCount], student[i].major);
            majorCount++;
        }
    }

    // Print unique majors
    for (i = 0; i < majorCount; i++) {
        printf("%s\n", majorlist[i]);
    }

    printf("\nPlease Select a Major: ");
   	scanf("%s",input);

    n = 0;
    for (i = 0; i < stdtotal; i++) {
        if (strcmp(input, student[i].major) == 0) {
            Total = (student[i].sub1grd + student[i].sub2grd) / 2;

            if (n == 0)
                printf("Major\t\t  Name\t\tStudent ID\t  Subject 1     Grade\t Subject 2\t  Grade\t  Total\n");

            printf("%s\t%10s\t%10d %15s\t%3.2f\t%15s\t  %3.2f\t%5d\n",
                student[i].major, student[i].name, student[i].ID,
                student[i].sub1, student[i].sub1grd,
                student[i].sub2, student[i].sub2grd, Total);

            n++;
        }
    }

    if (n == 0)
        printf("No Majors match your search, please try again!\n");
    printf("\n********************************************************\n\n");
    printf("Would you like to redo?\n");
    printf("Type number:");
    printf("\n1. Yes\n2. No\n");
    scanf("%d",&pick);
    switch(pick){
    	case 1: func3();
    	case 2: main();
    }

    return 0;
}

